<template>
  <section class={cssClass} role="dialog">
    <button class="slds-button slds-button_icon slds-button_icon-small slds-float_right slds-popover__close" onclick={close} title="Close dialog">
      <lightning-icon class="slds-current-color" icon-name="utility:close" alternative-text="Close dialog" title="Close dialog" size="xx-small"></lightning-icon>
    </button>
    <header class={cssHeaderClass}>
      <template if:true={hasHeaderIcon}>
        <div class="slds-media slds-media_center slds-has-flexi-truncate">
          <div class="slds-media__figure">
            <lightning-icon class="slds-current-color" icon-name={headerIconName} size="xx-small"></lightning-icon>
          </div>
          <div class="slds-media__body">
            <slot name="header" onslotchange={handleHeaderSlotChange}></slot>
          </div>
        </div>
      </template>
      <template if:false={hasHeaderIcon}>
        <slot name="header" onslotchange={handleHeaderSlotChange}></slot>
      </template>
    </header>
    <div class="slds-popover__body">
      <template if:true={hasBodyIcon}>
        <div class="slds-media">
          <div class="slds-media__figure">
            <lightning-icon icon-name={bodyIconName} size="small"></lightning-icon>
          </div>
          <div class="slds-media__body">
            <slot name="body"></slot>
          </div>
        </div>
      </template>
      <template if:false={hasBodyIcon}>
        <slot name="body"></slot>
      </template>
    </div>
    <footer class={cssFooterClass}>
      <slot name="footer" onslotchange={handleFooterSlotChange}></slot>
    </footer>
  </section>
</template>